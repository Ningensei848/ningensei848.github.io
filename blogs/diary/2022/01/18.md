---
id: '2022-01-18'
title: 'MDX ã‚’ã‚„ã£ã¦ã„ã'
emoji: 'ğŸ™‰' # ã‚¢ã‚¤ã‚­ãƒ£ãƒƒãƒã¨ã—ã¦ä½¿ã‚ã‚Œã‚‹çµµæ–‡å­—ï¼ˆ1æ–‡å­—ã ã‘ï¼‰
type: 'diary' # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢è¨˜äº‹
topics: ['mdx'] # ã‚¿ã‚°ï¼["markdown", "rust", "aws"]ã®ã‚ˆã†ã«æŒ‡å®šã™ã‚‹
published: true # å…¬é–‹è¨­å®šï¼ˆfalseã«ã™ã‚‹ã¨ä¸‹æ›¸ãï¼‰
---

# Next.js + MDX v2

[Blog - Markdown/MDX with Next.js | Next.js](https://nextjs.org/blog/markdown) ã§ã¯ï¼Œ[Next.js](https://nextjs.org/) ã®å…¬å¼æ–‡æ›¸ã¨ã—ã¦ Markdown / MDX ã§ãƒ–ãƒ­ã‚°ã‚’ä½œæˆã™ã‚‹æ–¹æ³•ã‚’ç´¹ä»‹ã—ã¦ã„ã‚‹ï¼

Markdown ã¯å‰æçŸ¥è­˜ã¨ã—ã¦è©³ç´°ã¯çœããŒï¼Œ[MDX](https://mdxjs.com/) ã¨ã¯ Markdown å†…ã§ JSX ã‚’ä½¿ãˆã‚‹ã‚ˆã†ã«è¨˜æ³•ã‚’æ‹¡å¼µã—ãŸã‚‚ã®ã§ã‚ã‚‹ï¼ã™ãªã‚ã¡ï¼ŒMarkdown ã‚’æ›¸ãæ‰‹è»½ã•ã§ãã®ä¸­ã« JS ã‚³ãƒ¼ãƒ‰ã‚’å«ã‚ã‚‹ã“ã¨ãŒã§ãã‚‹ã¨ã„ã†ã“ã¨ã ï¼ã“ã‚Œã¯æŠ€è¡“æ–‡æ›¸ã‚’æ›¸ãäººã€…ã«ã¨ã£ã¦ã¯ã‹ãªã‚Šæœ‰ã‚Šé›£ã„ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã¨ãªã‚Šã†ã‚‹â€¦â€¦â€¦â€¦ãã®è¨­å®šã¾ã§ãŒåœ°ç„ã®é“ã®ã‚Šãªã®ã ãŒï¼

## ï¼’ã¤ã®ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ

MDX ã‚’æ›¸ããŸã‚ã«ï¼Œä»Šã®æ‰€å¤§ããï¼’ã¤ã®ã‚¢ãƒ—ãƒ­ãƒ¼ãƒãŒã‚ã‚‹ï¼ã“ã‚Œã¯ï¼Œã‚µãƒ¼ãƒ / ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã®ã©ã¡ã‚‰ã§ MDX ã‚’ "è§£é‡ˆ" ã™ã‚‹ã‹ã¨ã„ã†è¦³ç‚¹ã«ã‚ˆã£ã¦åˆ†ã‘ã‚‰ã‚Œã¦ã„ã‚‹ï¼

MDX ã‚’ JSX ã®æ‹¡å¼µè¨˜æ³•ã¨æ‰ãˆãŸã¨ãã«ï¼Œã‚µãƒ¼ãƒå´ã§è§£é‡ˆã•ã›ãŸã„ã¨ã„ã†äººãŒå¤šã„ã ã‚ã†ï¼å®Ÿéš›ï¼ŒMDX ã‚’ãƒ‘ãƒ¼ã‚¹ã™ã‚‹ç­‰ã®å‡¦ç†ã§ã¯ã‚µãƒ¼ãƒå´ã§ã®åŠ›ã‚’å€Ÿã‚Šã¦è¡Œã†å®Ÿè£…ãŒã»ã¨ã‚“ã©ã ï¼ˆã¨ã„ã†ã‹ã™ã¹ã¦ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã§å®Œçµã—ã¦ã„ã‚‹ã®ã¯ã¿ãŸã“ã¨ãŒãªã„ï¼‰ï¼

ä¸€æ–¹ã§ï¼ŒMarkdown å†…éƒ¨ã®ã”ãä¸€éƒ¨ã« JS ã‚³ãƒ¼ãƒ‰ã‚’æŒ¿å…¥ã—ãŸã„ã¨ã„ã†æ¬²æ±‚ã‚‚ã‚ã‚‹ï¼ˆç­†è€…ã‚‚ã“ã‚Œã ã£ãŸï¼ŒæŠ€è¡“æ–‡æ›¸å†…ã§ãƒãƒ§ãƒ­ã£ã¨å«ã‚ãŸã„å ´é¢ã¯ã“ã‚Œã¾ã§ã‚‚å¤šã€…ã‚ã£ãŸãŸã‚ã§ã‚ã‚‹ï¼‰ï¼Markdown ã®æ‹¡å¼µè¨˜æ³•ã¨ã—ã¦ã® MDX ã¨ã„ã†è¦³ç‚¹ã§ã¯ï¼Œã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã§ MDX ã‚’å‡¦ç†ã—ãŸããªã‚‹ï¼ã™ãªã‚ã¡ï¼Œã„ã¡ã„ã¡ `.mdx` ç­‰ã¨ã—ã¦ãƒ•ã‚¡ã‚¤ãƒ«ã«ä¿å­˜ã—ãƒ­ãƒ¼ãƒ€ãƒ¼ã«èª­ã¿è¾¼ã¾ã›ã‚‹ã®ã§ã¯ãªãï¼ŒDB å†…ã«ã€Œ MDX è¨˜æ³•ã€ã¨ã—ã¦æ–‡å­—åˆ—ã‚’ä¿å­˜ã—ï¼Œãã‚Œã‚’èª­ã¿å‡ºã—ã¦æ¥ã¦å‡¦ç†ã™ã‚‹ã®ã§ã‚ã‚‹ï¼ã“ã‚Œã‚’å®Ÿç¾ã›ã‚“ã¨ã—ã¦ã„ãŸã®ãŒï¼ˆä¸Šè¿°ã®ãƒ–ãƒ­ã‚°ã«ã‚‚ç´¹ä»‹ã•ã‚Œã¦ã„ãŸï¼‰ [next-mdx-remote](https://github.com/hashicorp/next-mdx-remote) ã§ã‚ã‚‹ï¼

## MDX v2 æ™‚ä»£ã®åˆ°æ¥

å¤šãã® Next.js + MDX ãƒ–ãƒ­ã‚°ã¯ next-mdx-remote ã‚’æ¡ç”¨ã—ã¦ã„ã‚‹ã ã‚ã†ï¼ãŒï¼Œæœ€è¿‘ï¼ˆï¼’ï¼ï¼’ï¼‘å¹´å¾ŒåŠï¼‰ã«ãªã£ã¦ `mdx-js` ã® **v2** ãŒç™»å ´ã—ãŸï¼å¹¾å¹´ã‚‚ã®ãƒãƒ¼ãƒ‰ãƒ¯ãƒ¼ã‚¯ã‚’é‡ã­ã¦ï¼Œã‹ãªã‚Šå¤šãã®æ”¹å–„ãŒã‚ã£ãŸã‚‰ã—ã„ï¼

https://mdxjs.com/blog/v2/


ã¤ã‚‰ã¤ã‚‰ã¨ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’çœºã‚ã¦ã¿ã‚‹ã¨ï¼ŒNext.js ã®ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã§å‡¦ç†ã™ã‚‹ä¾‹ã‚’è¦‹ã¤ã‘ã¦ã—ã¾ã£ãŸï¼ã—ã‹ã‚‚ï¼Œä¸Šè¿°ã® `next-mdx-remote` ã‚ˆã‚Šã‚‚é«˜æ©Ÿèƒ½ã‚‰ã—ã„ï¼Œã‚¤ã‚¤ã­ï¼

> "This is similar to what `mdx-bundler` and `next-mdx-remote` also do, but they add more features."

https://mdxjs.com/guides/mdx-on-demand/#nextjs-example

<div class="msg">
ã¡ã‚‡ã£ã¨æ°—ã«ãªã£ãŸã®ã¯ä»¥ä¸‹ã®è¨˜è¿°ã§ã‚ã‚‹ï¼ãã‚Šã‚ƒã‚è€ƒãˆã‚Œã°åˆ†ã‹ã‚‹é€šã‚Šè‡´ã—æ–¹ãªã„ãŒï¼Œã§ã‚‚ã†ã¾ãç—’ã„ã¨ã“ã‚ã«æ‰‹ãŒå±Šãã‚ˆã†ã«ãªã£ã¦ã»ã—ã„ã¨ã„ã†æœŸå¾…ã‚‚ã‚ã‚‹

> MDX is not a bundler (esbuild, webpack, and Rollup are bundlers): you canâ€™t import other code from the server within the string of MDX and get a nicely minified bundle out or so.

</div>

## èª²é¡Œï¼š

- emoji

çµµæ–‡å­—ã‚’ä½¿ãŠã†ã¨ã—ãŸã‚‰ã€Œ _Expecting Unicode escape sequence \uXXXX_ ã€ã£ã¦æ€’ã‚‰ã‚ŒãŸï¼ã™ãªã‚ã¡åˆ†ã‹ã‚‹ã‚ˆã†ã«ã‚¨ã‚¹ã‚±ãƒ¼ãƒ—ã›ã‚ˆã£ã¦ã“ã¨ãªã‚“ã ã‚ã†ã‘ã©ï¼Œã„ã¾ã„ã¡ã¤ã‹ã‚ãªã‹ã£ãŸï¼ˆ Unicode ã¾ã‚ã‚Šã¯èª¿ã¹ã‚‹ã¨æ²¼ã£ã½ã„ï¼‰

- css

ã„ã¾ã¯ CSS ã« `zenn-content-css` ã‚’ãã®ã¾ã¾æµç”¨ã—ã¦ã„ã‚‹ï¼`<div class="msg">` ã§ã†ã¾ãé»„è‰²ãè¡¨ç¤ºã•ã‚Œã¦ãã‚ŒãŸã®ã¯åƒ¥å€–ã ã£ãŸãŒï¼Œã“ã‚Œã‚’ zenn è¨˜æ³•ã™ãªã‚ã¡ `:::message` ã§è¨˜è¿°ã§ãã‚‹ã‚ˆã†ã«ã—ãŸã„ï¼ã¨ãªã‚‹ã¨ï¼Œremark plugin ã«æ‰‹ã‚’å‡ºã•ã­ã°ãªã‚‰ãªã„ã®ã§ï¼Œã„ã¾ã¯æœªã ç„¡ç†ã‹ã‚‚ã—ã‚Œãªã„ï¼ã¨ã‚Šã‚ãˆãšä»Šæ—¥ã¯ã“ã“ã¾ã§ï¼

